# Работа с плейлистами

* [Создание плейлиста](#Создание-плейлиста)
* [Удаление плейлиста](#Удаление-плейлиста)
* [Переименовывание плейлиста](#Переименовывание-плейлиста)
* [Получение списка плейлистов](#Получение-списка-плейлистов)
* [Добавление видео в плейлист](#Добавление-видео-в-плейлист)
* [Удаление видео из плейлиста](#Удаление-видео-из-плейлиста)
* [Получение списка всех видео из плейлиста](#Получение-списка-всех-видео-из-плейлиста)
* [Изменение порядка видео в плейлисте](#Изменение-порядка-видео-в-плейлисте)
* [Генерация ссылки для просмотра плейлиста](#Генерация-ссылки-для-просмотра-плейлиста)

## Создание плейлиста
* **URL**

`/ext/api/v1/play_lists/`

* **Метод**

`POST` Multipart

* **URL параметры**

Отсутствуют

* **Параметры данных**

В теле запроса передается json с описание плейлиста
```json
{ "name" : "Название плейлиста"}
```

* **Пример ответа**

```
201 OK     
```

## Удаление плейлиста
* **URL**

`/ext/api/v1/play_lists/{id}/`

* **Метод**

`DELETE`

* **URL параметры**

Параметр | Описание
-------- | --------
{id} | Уникальный идентификатор плейлиста


* **Параметры данных**

Отсутствуют

* **Пример ответа**

```
200 OK     
```

## Переименовывание плейлиста
* **URL**

`/ext/api/v1/play_lists/{id}/rename/`

* **Метод**

`PUT`

* **URL параметры**

Параметр | Описание
-------- | --------
{id} | Уникальный идентификатор плейлиста
newName | Новое название плейлиста. Обязательный параметр.

* **Параметры данных**

Отсутствуют

* **Пример ответа**

```
200 OK      
```

## Получение списка плейлистов
* **URL**

`/ext/api/v1/play_lists/`

* **Метод**

`GET`

* **URL параметры**

Отсутствуют

* **Параметры данных**

Отсутствуют

* **Пример ответа**

```json
[
    {
        "id": 2, 
        "name": "Первый плейлист", 
        "timeAdded": 1511191307360
    }, 
    {
        "id": 3, 
        "name": "Второй плейлист", 
        "timeAdded": 1511601179540
    }
]     
```

* **Описание параметров ответа**

Название поля | Описание
------------- | --------
id | Уникальный идентификатор плейлиста
name | Название плейлиста
timeAdded | TimeStamp создания плейлиста

## Добавление видео в плейлист
* **URL**

`/ext/api/v1/play_lists/{id}/videos/`

* **Метод**

`PUT`

* **URL параметры**

Параметр | Описание
-------- | --------
{id} | Уникальный идентификатор плейлиста
videoIds | Уникальные идентификаторы видео

* **Параметры данных**

Отсутствуют

* **Пример запроса**

```
/api/play_lists/2/videos/?videoIds=1&videoIds=2      
```

* **Пример ответа**

```
200 OK      
```

## Удаление видео из плейлиста
* **URL**

`/ext/api/v1/play_lists/{id}/videos/{videoId}/`

* **Метод**

`DELETE`

* **URL параметры**

Параметр | Описание
-------- | --------
{id} | Уникальный идентификатор плейлиста
{videoId} | Уникальный идентификатор видео

* **Параметры данных**

Отсутствуют

* **Пример ответа**

```
200 OK      
```

## Получение списка всех видео из плейлиста
* **URL**

`/ext/api/v1/play_lists/{id}/videos/`

* **Метод**

`GET`

* **URL параметры**

Параметр | Описание
-------- | --------
{id} | Уникальный идентификатор плейлиста

* **Параметры данных**

Отсутствуют

* **Пример ответа**

```json
[
    {
        "id": 1, 
        "name": "Название первого видео", 
        "size": 47045187, 
        "timeAdded": 1512914132665
    }, 
    {
        "id": 2, 
        "name": "Название второго видео", 
        "size": 39041567, 
        "timeAdded": 1512914354189
    }
]
    
```

* **Описание параметров ответа**
Список видео приходит согласно сортировке. Именно в таком порядке видео будут показываться пользователю.

Название поля | Описание
------------- | --------
id | Уникальный идентификатор видео
name | Название видео
size | Размер файла в байтах
timeAdded | TimeStamp загрузки видео

## Изменение порядка видео в плейлисте
* **URL**

`/ext/api/v1/play_lists/{id}/videos/{videoId}/move/`

* **Метод**

`PUT`

* **URL параметры**

Параметр | Описание
-------- | --------
{id} | Уникальный идентификатор плейлиста
{videoId} | Уникальный идентификатор видео
direction | up, down.

* **Параметры данных**

Отсутствуют

* **Пример ответа**

```
200 OK      
```

## Генерация ссылки для просмотра плейлиста
* **URL**

`/ext/api/v1/play_lists/{id}/generate_link/`

* **Метод**

`GET`

* **URL параметры**

Параметр | Описание
-------- | --------
{id} | Уникальный идентификатор плейлиста
noPinViews | Количество просмотров плейлиста без запроса пин кода. Необязательный параметр.
email | Email на который пользователю будет выслана ссылка для просмотра. На этот же email будут высылаться пин коды.   

* **Параметры данных**

Отсутствуют

* **Пример ответа**

```json
{
    "email": "test@mail.com", 
    "id": 7, 
    "key": "W9oK8lAJ7TpnX29cBHU1ZZ45UeKLamEr", 
    "noPinViews": null
}     
```

* **Описание параметров ответа**

Название поля | Описание
------------- | --------
id | Уникальный идентификатор сгенерированного ключа
email | Email пользователя
key | Уникальный ключ для видео. Строка 128 символов.
noPinViews | Количество просмотров без запроса пин кода